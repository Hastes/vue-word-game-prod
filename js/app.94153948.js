(function(t){function e(e){for(var n,o,u=e[0],a=e[1],c=e[2],d=0,f=[];d<u.length;d++)o=u[d],s[o]&&f.push(s[o][0]),s[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,u=1;u<r.length;u++){var a=r[u];0!==s[a]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},s={app:0},i=[];function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/vue-word-game-prod/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],a=u.push.bind(u);u.push=e,u=u.slice();for(var c=0;c<u.length;c++)e(u[c]);var l=a;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"081b":function(t,e,r){},"0cfb":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),s=r("a7fe"),i=r.n(s),o=r("bc3a"),u=r.n(o),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("WordGame")],1)},c=[],l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"game-wrapper"},[t.isStarted?t._e():r("div",[r("button",{on:{click:t.restart}},[t._v("Новая игра")])]),t.isOpenResults?[r("Results")]:[r("div",{staticClass:"output"}),r("ul",{staticClass:"letters"},t._l(t.unansweredLetters,function(e){return r("li",[t.gameOver?[r("div",{staticClass:"letter_nonclickable"},[t._v(t._s(e.letter))])]:[r("div",{staticClass:"letter",class:[e.position.includes(e.choose)?"correct":""],on:{click:function(r){return t.addLetter(e)}}},[t._v(t._s(e.letter))])]],2)}),0),r("ul",{staticClass:"answered"},t._l(t.answeredLetters,function(e){return r("li",[t.gameOver?[r("div",{staticClass:"letter_nonclickable"},[t._v(t._s(e.letter))])]:[r("div",{staticClass:"letter",class:[e.position.includes(e.choose)?"correct":""],on:{click:function(r){return t.addLetter(e)}}},[t._v(t._s(e.letter))])]],2)}),0),t.gameOver?r("div",[t.isWin?r("div",[r("div",{staticClass:"results"},[r("p",{staticClass:"title"},[t._v("Вы выиграли! Повторить?")]),r("p",[r("button",{on:{click:t.restart}},[t._v("Конечно")])]),r("p",[r("button",{on:{click:t.showResults}},[t._v("Я уже устал")])])])]):r("div",[r("div",{staticClass:"results"},[r("p",{staticClass:"title"},[t._v("Вы проиграли! Повторить?")]),r("p",[r("button",{on:{click:t.restart}},[t._v("Конечно")])]),r("p",[r("button",{on:{click:t.showResults}},[t._v("Я уже устал")])])])])]):t._e(),r("h1",{staticClass:"status"},[t._v(t._s(t.time))])]],2)},d=[],f=r("cebc"),v=(r("6762"),r("2fdb"),r("7514"),r("7f7f"),r("96cf"),r("3b8d")),h=(r("55dd"),r("28a5"),r("2f62"));const p="getRandomWord",m="addResult",b="turnOn",_="turnOff";var g,w=r("d225"),O=r("b0b4"),S=function(){function t(e,r){Object(w["a"])(this,t);var n=this.shuffle(this.getStartNumbers(e,r));this.getRandomNumber=function(){return n.pop()}}return Object(O["a"])(t,[{key:"getStartNumbers",value:function(t,e){var r=e-t;return Array.apply(null,{length:r}).map(function(e,r){return r+t})}},{key:"shuffle",value:function(t){return t.sort(function(t,e){return Math.random()-.5})}}]),t}(),y=function(){function t(){var e=this;Object(w["a"])(this,t),this._seconds=0,this._intervalId=null,this.getSeconds=function(){return e._seconds},this.clear=function(){e._seconds=0,clearInterval(e._intervalId)},this.clearInterval=function(){return clearInterval(e._intervalId)},this.init=function(){return setInterval(function(){return++e._seconds},1e3)},this.setInterval=function(t){e._intervalId=t}}return Object(O["a"])(t,[{key:"minutes",value:function(){return parseInt(this.getSeconds()/60)}},{key:"seconds",value:function(){return this.getSeconds()%60}},{key:"stop",value:function(){this.clear()}},{key:"pause",value:function(){this.clearInterval()}},{key:"start",value:function(){this.clear();var t=this.init();this.setInterval(t)}}]),t}(),R=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"results"},[r("h1",[t._v("Результаты")]),r("table",[r("tr",[r("th",{on:{click:function(e){return t.sort("number")}}},["number"===t.currentSort?[t.reversedDirection?[t._v("▲ №")]:[t._v("▼ №")]]:[t._v("№")]],2),r("th",{on:{click:function(e){return t.sort("userAnswer")}}},["userAnswer"===t.currentSort?[t.reversedDirection?[t._v("▲ Слово")]:[t._v("▼ Слово")]]:[t._v("Слово")]],2),r("th",{on:{click:function(e){return t.sort("time")}}},["time"===t.currentSort?[t.reversedDirection?[t._v("▲ Время")]:[t._v("▼ Время")]]:[t._v("Время")]],2)]),t._l(t.sortedResults,function(e){return r("tr",[r("td",[t._v(t._s(e.number))]),r("td",[t._v(t._s(e.userAnswer))]),r("td",[t._v(t._s(e.time))])])})],2)])},j=[],k={name:"Results",data:function(){return{currentSort:"number",reversedDirection:!1}},methods:{sort:function(t){t===this.currentSort&&(this.reversedDirection=!this.reversedDirection),this.currentSort=t}},computed:Object(f["a"])({},Object(h["b"])({results:"getResults"}),{sortedResults:function(t){return t.results.sort(function(e,r){var n=1;return t.reversedDirection&&(n=-1),e[t.currentSort]<r[t.currentSort]?-1*n:e[t.currentSort]>r[t.currentSort]?n:0})}})},L=k,C=(r("57df"),r("2877")),x=Object(C["a"])(L,R,j,!1,null,"821467b6",null),W=x.exports,I=new S(2,1368),A=function(t){var e=Array.apply(),r=t.split("");return r.map(function(t,r,n){var s=[];n.map(function(e,r){e===t&&s.push(r)}),e.push({letter:t,position:s,choose:void 0})}),e.sort(function(t,e){return Math.random()-.5})},D={name:"WordGame",components:{Results:W},data:function(){return{shuffledWord:Array.apply(),answer:String(),totalSeconds:0,timer:new y,isOpenResults:!1,isStarted:!1,gamesCounter:1}},methods:{addLetter:function(t){void 0!==t.choose?(t.choose=void 0,this.answeredLetters.map(function(t,e){t.choose=e})):t.choose=this.answeredLetters.length},updateWord:function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(){var e,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=I.getRandomNumber(),t.next=3,this.$store.dispatch(p,e).then(function(t){var e=t.data;if(!e||10!==e.status)return r.updateWord();var n=e.name.toUpperCase();r.shuffledWord=A(n),r.answer=n});case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),isCorrectAnswer:function(){var t=this.answeredLetters.find(function(t){return!t.position.includes(t.choose)});if(void 0===t)return!0},saveResults:function(){if(this.isCorrectAnswer()&&this.answeredLetters.length&&this.isStarted){var t=String();this.answeredLetters.map(function(e){t+=e.letter}),this.$store.commit(m,{number:this.gamesCounter,time:this.timer.getSeconds(),userAnswer:t,answer:this.answer}),++this.gamesCounter}},restart:function(){var t=this;this.saveResults(),this.updateWord().then(function(){t.timer.start(),t.isStarted=!0}),this.isOpenResults=!1},stop:function(){this.timer.pause()},showResults:function(){this.isOpenResults=!0,this.isStarted=!1}},computed:Object(f["a"])({},Object(h["b"])({isLoading:"isLoading"}),{unansweredLetters:function(t){return t.shuffledWord.filter(function(t){return void 0===t.choose})},answeredLetters:function(t){var e=function(t,e){return t.choose-e.choose};return t.shuffledWord.filter(function(t){return void 0!==t.choose}).sort(e)},gameOver:function(t){var e=t.shuffledWord.length;return e>0&&e===this.answeredLetters.length},isWin:function(){return!!this.gameOver&&this.isCorrectAnswer()},time:function(t){return"".concat(t.timer.minutes(),":").concat(t.timer.seconds())}}),watch:{gameOver:{handler:function(t){t&&(this.stop(),this.saveResults())}}}},$=D,M=(r("815f"),Object(C["a"])($,l,d,!1,null,"7620b0bd",null)),P=M.exports,N={name:"App",components:{WordGame:P},created:function(){this.$store.dispatch("init")}},E=N,G=(r("cf25"),Object(C["a"])(E,a,c,!1,null,null,null)),T=G.exports,J=r("bd86");r("6b54");n["a"].use(h["a"]);var U=new h["a"].Store({state:{results:[],isLoading:!0,isStarted:!1},getters:{getResults:function(t){return t.results},isLoading:function(t){return t.isLoading}},actions:Object(J["a"])({init:function(t){var e=t.commit;e(b)}},p,function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(e,r){var s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.abrupt("return",n["a"].axios.get(r.toString()).then(function(t){return s.isLoading=!1,t.data}));case 2:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()),mutations:(g={},Object(J["a"])(g,m,function(t,e){t.results.push(e),t.isLoading=!0}),Object(J["a"])(g,b,function(t){t.result=[],t.isStarted=!0}),Object(J["a"])(g,_,function(t){t.isStarted=!1}),g)}),q=U;const z="https://apidir.pfdo.ru/v1/directory-program-activities/";var B=z;r("f17c");n["a"].config.productionTip=!1,n["a"].use(i.a,u.a),n["a"].axios.defaults.baseURL=B,new n["a"]({store:q,render:function(t){return t(T)}}).$mount("#app")},"57df":function(t,e,r){"use strict";var n=r("85b8"),s=r.n(n);s.a},"815f":function(t,e,r){"use strict";var n=r("081b"),s=r.n(n);s.a},"85b8":function(t,e,r){},cf25:function(t,e,r){"use strict";var n=r("0cfb"),s=r.n(n);s.a},f17c:function(t,e,r){}});
//# sourceMappingURL=app.94153948.js.map